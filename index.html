<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Currency Converter</title> 
<link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-900 to-gray-900 text-white min-h-screen flex items-center justify-center p-4">

<div class="w-full max-w-xl bg-black/50 rounded-2xl p-8 shadow-lg backdrop-blur-md">
  <h2 class="text-2xl font-bold mb-6 text-center">ğŸ’± Multi-Currency Converter</h2>

  <!-- Input Section -->
  <div class="flex flex-col sm:flex-row items-center gap-4 mb-4">
    <input id="amount" type="number" placeholder="Amount" class="flex-1 p-3 rounded-lg text-black font-semibold focus:outline-none">
    <select id="fromCurrency" class="p-3 rounded-lg text-black font-semibold focus:outline-none">
      <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
      <option value="EUR">ğŸ‡ªğŸ‡º EUR</option>
      <option value="GBP">ğŸ‡¬ğŸ‡§ GBP</option>
      <option value="THB">ğŸ‡¹ğŸ‡­ THB</option>
      <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
      <option value="CAD">ğŸ‡¨ğŸ‡¦ CAD</option>
      <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
      <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
      <option value="CHF">ğŸ‡¨ğŸ‡­ CHF</option>
      <option value="AUD">ğŸ‡¦ğŸ‡º AUD</option>
    </select>
    <button onclick="convert()" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-bold transition">Convert</button>
  </div>

  <!-- Result Section -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4 text-left" id="results"></div>
</div>

<script>
const currencies = [
  { code: 'USD', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'EUR', flag: 'ğŸ‡ªğŸ‡º' },
  { code: 'GBP', flag: 'ğŸ‡¬ğŸ‡§' },
  { code: 'THB', flag: 'ğŸ‡¹ğŸ‡­' },
  { code: 'MYR', flag: 'ğŸ‡²ğŸ‡¾' },
  { code: 'CAD', flag: 'ğŸ‡¨ğŸ‡¦' },
  { code: 'SGD', flag: 'ğŸ‡¸ğŸ‡¬' },
  { code: 'CNY', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'CHF', flag: 'ğŸ‡¨ğŸ‡­' },
  { code: 'AUD', flag: 'ğŸ‡¦ğŸ‡º' }
];

async function convert() {
  const amount = document.getElementById("amount").value;
  const fromCurrency = document.getElementById("fromCurrency").value;

  if (!amount || amount <= 0) {
    alert("Please enter a valid amount");
    return;
  }

  const targets = currencies.filter(c => c.code !== fromCurrency).map(c => c.code).join(',');

  try {
    const res = await fetch(`https://api.frankfurter.app/latest?amount=${amount}&from=${fromCurrency}&to=${targets}`);
    const data = await res.json();

    // Convert data into array and sort low â†’ high
    const sortedRates = Object.entries(data.rates)
      .map(([code, value]) => ({ code, value }))
      .sort((a, b) => a.value - b.value); // sort ascending

    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = '';

    sortedRates.forEach(r => {
      const currency = currencies.find(c => c.code === r.code);
      const div = document.createElement('div');
      div.className = 'p-2 bg-black/40 rounded-lg flex items-center gap-2';
      div.textContent = `${currency.flag} ${currency.code}: ${r.value.toFixed(2)}`;
      resultsDiv.appendChild(div);
    });
  } catch (error) {
    console.error(error);
    document.getElementById("results").innerHTML = '<div class="col-span-full text-center text-red-500">Error fetching rates</div>';
  }
}
</script>

</body>
</html>